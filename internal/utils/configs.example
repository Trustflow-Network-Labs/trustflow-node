[p2p]
node_port = 30609
bootstrap_addrs = /ip4/159.65.253.245/tcp/30609/p2p/QmRTYiSwrh4y5UozzTS5pors1jHPqsSSh7Sfd6dJ8kCgzF, /ip4/159.65.253.245/udp/30611/quic-v1/p2p/QmRTYiSwrh4y5UozzTS5pors1jHPqsSSh7Sfd6dJ8kCgzF, /ip4/95.180.109.240/tcp/30609/p2p/QmSeoLQWMu48JGa2kj8bSvMrv59Rhkp2AveX3Yhf95ySeH, /ip4/167.86.116.185/udp/30611/quic-v1/p2p/QmPpcuRSHmrjT2EEoHXhU5YT2zV9wF5N9LWuhPJofAhtci, /ip4/167.86.116.185/tcp/30609/p2p/QmPpcuRSHmrjT2EEoHXhU5YT2zV9wF5N9LWuhPJofAhtci, /ip4/85.237.211.221/udp/30611/quic-v1/p2p/QmaZffJXMWB1ifXP1c7U34NsgUZBSaA5QhXBwp269efHX9, /ip4/85.237.211.221/tcp/30609/p2p/QmaZffJXMWB1ifXP1c7U34NsgUZBSaA5QhXBwp269efHX9
relay_addrs = /ip4/159.65.253.245/tcp/30609/p2p/QmRTYiSwrh4y5UozzTS5pors1jHPqsSSh7Sfd6dJ8kCgzF, /ip4/159.65.253.245/udp/30611/quic-v1/p2p/QmRTYiSwrh4y5UozzTS5pors1jHPqsSSh7Sfd6dJ8kCgzF, /ip4/167.86.116.185/udp/30611/quic-v1/p2p/QmPpcuRSHmrjT2EEoHXhU5YT2zV9wF5N9LWuhPJofAhtci, /ip4/167.86.116.185/tcp/30609/p2p/QmPpcuRSHmrjT2EEoHXhU5YT2zV9wF5N9LWuhPJofAhtci, /ip4/85.237.211.221/udp/30611/quic-v1/p2p/QmaZffJXMWB1ifXP1c7U34NsgUZBSaA5QhXBwp269efHX9, /ip4/85.237.211.221/tcp/30609/p2p/QmaZffJXMWB1ifXP1c7U34NsgUZBSaA5QhXBwp269efHX9
topic_name_prefix = trustflow.network.
protocol_id = /trustflow-network/1.0.0
search_results = 10

[relay]
# Relay service pricing (for public relay nodes)
# Set pricing for your relay service - customers will pay this rate
relay_price_per_gb = 0.15
relay_currency = USD
relay_max_bandwidth_mbps = 25
relay_contact_info = admin@example.com
relay_availability_percent = 99.5

# Relay discovery preferences (for private nodes behind NAT)  
# Configure what you're willing to pay for relay services
relay_max_price_gb = 0.30
relay_min_reputation = 4.0

[sqlite]
database_file = ./trustflow.db

[log]
logfile = log
log_level = info
log_max_size_mb = 50
log_max_age_days = 7
log_max_backups = 5
log_rotation_interval = daily
log_enable_rotation = true

[keystore]
keystore_passphrase = KEYSTORE_PASSPHRASE

[store]
local_storage = ./local_storage/
local_tmp = ./local_storage/tmp/
local_git_root = ./local_storage/git/
local_docker_root = ./local_storage/docker/

[job]
max_job_run_retries = 10
job_initial_backoff = 60
max_job_send_output_retries = 10
job_send_output_initial_backoff = 60

[docker]
docker_scan_skip = .git, packages, node_modules, .idea, .vscode

[repo]

[node]

[misc]
chunk_size = 81920
pid_path = ./trustflow.pid
phrase_min_len = 3
pprof_port = 6060

[cron]
peer_discovery_interval = 5m
connection_health_interval = 2m
process_job_queue_interval = 30s
job_status_update_interval = 1m

[performance]
# Worker Pool Sizes (conservative for production)
stream_worker_pool_size = 8
job_worker_pool_size = 8
job_execution_pool_size = 30
job_status_update_pool_size = 8

# Goroutine Limits
max_goroutines = 150
critical_goroutine_reserve = 25

# Buffer Sizes (in bytes)
p2p_buffer_size = 65536
file_buffer_size = 32768
small_buffer_size = 4096
hash_buffer_size = 4096
relay_buffer_size = 131072

# Buffer Pool Limits (smaller for production)
p2p_buffer_pool_max_size = 20
file_buffer_pool_max_size = 30
small_buffer_pool_max_size = 75
default_buffer_pool_max_size = 75
large_buffer_pool_max_size = 30
medium_buffer_pool_max_size = 50

[monitoring]
# Time Intervals (more conservative for production)
memory_monitor_interval = 45s
stream_cleanup_interval = 2m
cache_cleanup_interval = 15m
connection_evaluation_period = 3m
connection_cleanup_interval = 5m
peer_evaluation_interval = 2m
relay_advertise_interval = 5m
relay_traffic_log_interval = 60s
resource_cleanup_interval = 3m

# NEW: Relay Memory Management (production values)
relay_circuit_cleanup_age = 3m
relay_batch_interval = 45s
periodic_cleanup_interval = 5m

# Thresholds and Limits
memory_pressure_threshold = 75.0
max_stream_age = 5m
cache_ttl = 30m
peer_data_stale_threshold = 1h
resource_cleanup_threshold = 15m

# NEW: Relay Traffic Management (production values)
max_active_relay_circuits = 500
relay_traffic_batch_size = 150

# NEW: Memory Optimization (conservative for production)
stack_trace_buffer_size = 256

# Stream-specific timeout settings by data type (production values)
# Small struct timeouts (quick operations) - more aggressive for production
max_stream_age_service_request = 45s
max_stream_age_job_run_status = 45s
max_stream_age_job_run_status_request = 45s
max_stream_age_service_lookup = 20s

# Medium struct timeouts (standard operations) - balanced for production
max_stream_age_service_offer = 90s
max_stream_age_service_response = 90s
max_stream_age_job_run_response = 2m
max_stream_age_message = 90s

# Job processing timeouts - reasonable time for job coordination
max_stream_age_job_run_request = 3m

# Large data timeouts (file transfers, large payloads) - shorter for production
max_stream_age_byte_array = 1h
max_stream_age_file = 2h

[network]
# Connection Settings (more aggressive timeouts for production)
stream_dispatch_timeout = 30ms
peer_connection_max_retries = 2
peer_connection_backoff_base = 3s
max_discovered_peers = 30
peer_evaluation_queue_size = 50
connection_event_buffer_size = 300

# NEW: Connection Management (production values)
max_connections_private = 200
max_connections_public = 500
connection_grace_period = 20s
connection_silence_period = 10s
peer_tracking_multiplier = 2
max_routing_peers = 30

# Relay Settings
max_active_circuits = 500
relay_circuit_data_limit = 1073741824
relay_circuit_duration = 30m

# Transfer Limits
max_chunk_size_mb = 5
max_stream_size_mb = 50
chunk_size_bytes = 65536

[context]
# Context Audit Settings
context_audit_max_age = 3m
context_audit_check_interval = 45s

[ui]
# Application Window
app_window_width = 1024
app_window_height = 768
